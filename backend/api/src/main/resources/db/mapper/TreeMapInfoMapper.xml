<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="ru.naumen.ectmapi.repository.TreeMapInfoRepository">

    <select id="findInRegion" resultType="ru.naumen.ectmapi.entity.TreeMapInfo">
        SELECT id,
               geographical_point,
               diameter_crown,
               type
        FROM tree
        WHERE
            ST_Within(
                    geographical_point,
                    ST_MakeEnvelope(#{bottomRight.x}, #{bottomRight.y}, #{topLeft.x}, #{topLeft.y})
                )
    </select>
</mapper>